import os
import sys
import subprocess
import time
from sys import argv
from platform import system

logo = """
   .----------------.  .----------------.  .----------------.  .-----------------. .----------------. 
  | .--------------. || .--------------. || .--------------. || .--------------. || .--------------. |
  | |     ____     | || |   _____      | || |     _____    | || | ____  _____  | || |     __       | |
  | |   .'    '.   | || |  |_   _|     | || |    |_   _|   | || ||_   \|_   _| | || |    /  |      | |
  | |  |  .--.  |  | || |    | |       | || |      | |     | || |  |   \ | |   | || |    `| |      | |
  | |  | |    | |  | || |    | |   _   | || |      | |     | || |  | |\ \| |   | || |     | |      | |
  | |  |  `--'  |  | || |   _| |__/ |  | || |     _| |_    | || | _| |_\   |_  | || |    _| |_     | |
  | |   '.____.'   | || |  |________|  | || |    |_____|   | || ||_____|\____| | || |   |_____|    | |
  | |              | || |              | || |              | || |              | || |              | |
  | '--------------' || '--------------' || '--------------' || '--------------' || '--------------' |
   '----------------'  '----------------'  '----------------'  '----------------'  '----------------' 
"""

MITM = """
   .----------------.  .----------------.  .----------------.  .----------------. 
  | .--------------. || .--------------. || .--------------. || .--------------. |
  | | ____    ____ | || |     _____    | || |  _________   | || | ____    ____ | |
  | ||_   \  /   _|| || |    |_   _|   | || | |  _   _  |  | || ||_   \  /   _|| |
  | |  |   \/   |  | || |      | |     | || | |_/ | | \_|  | || |  |   \/   |  | |
  | |  | |\  /| |  | || |      | |     | || |     | |      | || |  | |\  /| |  | |
  | | _| |_\/_| |_ | || |     _| |_    | || |    _| |_     | || | _| |_\/_| |_ | |
  | ||_____||_____|| || |    |_____|   | || |   |_____|    | || ||_____||_____|| |
  | |              | || |              | || |              | || |              | |
  | '--------------' || '--------------' || '--------------' || '--------------' |
   '----------------'  '----------------'  '----------------'  '----------------' 

"""
anonsurf = """

   .----------------.  .-----------------. .----------------.  .-----------------. .----------------.  .----------------.  .----------------.  .----------------. 
  | .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. |
  | |      __      | || | ____  _____  | || |     ____     | || | ____  _____  | || |    _______   | || | _____  _____ | || |  _______     | || |  _________   | |
  | |     /  \     | || ||_   \|_   _| | || |   .'    `.   | || ||_   \|_   _| | || |   /  ___  |  | || ||_   _||_   _|| || | |_   __ \    | || | |_   ___  |  | |
  | |    / /\ \    | || |  |   \ | |   | || |  /  .--.  \  | || |  |   \ | |   | || |  |  (__ \_|  | || |  | |    | |  | || |   | |__) |   | || |   | |_  \_|  | |
  | |   / ____ \   | || |  | |\ \| |   | || |  | |    | |  | || |  | |\ \| |   | || |   '.___`-.   | || |  | '    ' |  | || |   |  __ /    | || |   |  _|      | |
  | | _/ /    \ \_ | || | _| |_\   |_  | || |  \  `--'  /  | || | _| |_\   |_  | || |  |`\____) |  | || |   \ `--' /   | || |  _| |  \ \_  | || |  _| |_       | |
  | ||____|  |____|| || ||_____|\____| | || |   `.____.'   | || ||_____|\____| | || |  |_______.'  | || |    `.__.'    | || | |____| |___| | || | |_____|      | |
  | |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | |
  | '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' |
   '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------' 

"""
Exit = """

  ░▒▓████████▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓████████▓▒░░▒▓█▓▒░░▒▓███████▓▒░  ░▒▓██████▓▒░                          
  ░▒▓█▓▒░       ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░   ░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░                         
  ░▒▓█▓▒░       ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░   ░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░                                
  ░▒▓██████▓▒░   ░▒▓██████▓▒░ ░▒▓█▓▒░   ░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒▒▓███▓▒░                         
  ░▒▓█▓▒░       ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░   ░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░                         
  ░▒▓█▓▒░       ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░   ░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓██▓▒░░▒▓██▓▒░░▒▓██▓▒░ 
  ░▒▓████████▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░   ░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░ ░▒▓██████▓▒░ ░▒▓██▓▒░░▒▓██▓▒░░▒▓██▓▒░ 
                                                                                                               
"""


def display_menu():
    print(
        logo
        + """\033[36m
    \033[36m[+] \033[32mThis Tool Must Run as a Root..\033[36m[+]\033[32m
    [00] \033[36mMITM \033[32m
    [01] \033[36mInformation Gathering \033[32m

    [99] \033[36mExit
    """
    )

    # [02] \033[36mPassword Attack && Wordlist Generator \033[32m
    # [03] \033[36mSQL Injection Tools \033[32m
    # [04] \033[36mPhishing Attack \033[32m
    # [05] \033[36mWeb Attack Tool \033[32m
    # [06] \033[36mPost exploitation \033[32m1
    # [07] \033[36mPayload Creator \033[32m
    # [08] \033[36mEncryptor/Decryptor \033[32m
    # [09] \033[36mWifi Jamming \033[32m
    # [10] \033[36mSocialMedia Attack \033[32m
    # [11] \033[36mSocialMedia Finder \033[32m
    # [12] \033[36mUpdate System \033[32m


def main():
    while True:
        display_menu()
        choice = input("Enter your choice: ")
        if choice == "0" or choice == "00":
            print(MITM)
            mitm()
        elif choice == "1" or choice == "01":
            print(anonsurf)
            anonsurf()
        # elif choice == "2" or choice == "02":
        #     run_tool2()
        # elif choice == "3" or choice == "03":
        #     run_tool2()
        # elif choice == "4" or choice == "04":
        #     run_tool2()
        elif choice == "99":
            print(Exit)
            time.sleep(3)
            clearScr()
            sys.exit(0)
        else:
            print("Invalid choice. Please enter a valid number.")


def clearScr():
    if system() == "Linux":
        os.system("clear")
    if system() == "Windows":
        os.system("cls")


def mitm():
    # Function to run tool 1 (mitmproxy with interceptor.py)
    try:
        subprocess.run(["mitmproxy", "-s", "tools/mitm/mitm.py"], check=True)
    except subprocess.CalledProcessError as e:
        print("Error running tool 1:", e)
        sys.exit(1)


def anonsurf():
    # Function to run tool 2
    os.system("python modules/anonsurf.py")


if __name__ == "__main__":
    main()
